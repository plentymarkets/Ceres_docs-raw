:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[ceres__basewidget]]
= BaseWidget





===== Namespace

`Ceres\Widgets\Helper`


===== Implements
xref:stable7@interface::Shopbuilder.adoc#shopbuilder_contracts_dynamicwidget[`DynamicWidget`]
xref:stable7@interface::Shopbuilder.adoc#shopbuilder_contracts_widget[`Widget`]


.Constants
|===
|Type |Name |Value |Description

|link:http://php.net/array[array^]
a|`TOOLBAR_LAYOUT`
|['','bold,italic,underline,strike|h1,h2,h3|align|translation','bold,italic,underline,strike|headline|link|align,ul,ol|color,background|translation']
|
|===


.Properties
|===
|Type |Name |Description

|link:http://php.net/array[`array`^]
a|`$mapTypeToTemplate`
|A map for types to corresponding templates|link:http://php.net/string[`string`^]
a|`$template`
|The template to be used for this widget| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_templates_twig[`Twig`]
a|`$twig`
|| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_plugin_application[`Application`]
a|`$app`
||link:http://php.net/string[`string`^]
a|`$pluginNamespace`
|
|===


===== Methods

[source%nowrap, php, subs=+macros]
[#__construct]
----

public __construct($twig, $app)

----





BaseWidget constructor.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_templates_twig[`Twig`]
a|`$twig`
|Class to render twig templates.

| xref:stable7@interface::Miscellaneous.adoc#miscellaneous_plugin_application[`Application`]
a|`$app`
|Helper class to retrieve information from the application.
|===


[source%nowrap, php, subs=+macros]
[#getdata]
----

public getData():link:http://php.net/array[array^]

----





Get basic information about the widget. Possible fields are
- identifier
- label
- previewImageURL
- type
- categories
- position

[source%nowrap, php, subs=+macros]
[#getsettings]
----

public getSettings():link:http://php.net/array[array^]

----





Return the structure of the settings for the widget

[source%nowrap, php, subs=+macros]
[#getpreview]
----

public getPreview($widgetSettings = [], $children = []):link:http://php.net/string[string^]

----





Get the html representation of the widget.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$widgetSettings`
|The settings provided by the widget.

|link:http://php.net/array[`array`^]
a|`$children`
|The child widgets of the widget.
|===


[source%nowrap, php, subs=+macros]
[#render]
----

public render($widgetSettings = [], $children = []):link:http://php.net/string[string^]

----





Render the template of the widget.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$widgetSettings`
|The settings provided by the widget.

|link:http://php.net/array[`array`^]
a|`$children`
|The child widgets of the widget.
|===


[source%nowrap, php, subs=+macros]
[#gettemplatedata]
----

public getTemplateData($widgetSettings, $isPreview):link:http://php.net/array[array^]

----





Get additional data to be passed to the template while rendering.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$widgetSettings`
|The settings provided by the widget.

|link:http://php.net/bool[`bool`^]
a|`$isPreview`
|A flag provided to determine if the widget is currently shown in preview.
|===


[source%nowrap, php, subs=+macros]
[#getpreviewdata]
----

public getPreviewData($widgetSettings):link:http://php.net/array[array^]

----





Get additional data to be passed to the template while rendering the preview markup.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/array[`array`^]
a|`$widgetSettings`
|The settings provided by the widget.
|===


[source%nowrap, php, subs=+macros]
[#mockpaginatedresult]
----

public mockPaginatedResult($factory, $itemsPerPage = 10, $currentPage = 1, $pages = 5):link:http://php.net/array[array^]

----





Mock a paginated result

.*Parameters*
|===
|Type |Name |Description
|xref:Ceres/Widgets/Helper/Closure.adoc#[`Closure`]
a|`$factory`
|The widget factory which should be mocked.

|link:http://php.net/int[`int`^]
a|`$itemsPerPage`
|The number of items which should be mocked.

|link:http://php.net/int[`int`^]
a|`$currentPage`
|The current page of the result.

|link:http://php.net/int[`int`^]
a|`$pages`
|The total count of pages.
|===


